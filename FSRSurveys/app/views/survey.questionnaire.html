<div ng-controller="QuestionnaireController as vm">
    <ul class="categories">
        <li class="category-header">
            <div class="row">
                <div class="col-lg-3">Category & Job Activity</div>
                <div class="col-lg-2">
                    <i class="fa fa-info-circle" uib-tooltip="What percentage (%) of your time and effort is spent performing the following responsibilities in a typical month (Must sum to 100%)"></i>
                    % Time & Effort
                </div>
                <div class="col-lg-2">
                    <i class="fa fa-info-circle" uib-tooltip="The role of the Administative Support Person is typical to support a Manager or team of Managers. Please identify which tasks are typically performed by the Manager versus the Administrative Support Person"></i>
                    Activity Owner
                </div>
                <div class="col-lg-2">
                    <i class="fa fa-info-circle" uib-tooltip="Rate whether this activity is performed manually or electronically via the use of technology (excluding email)"></i>
                    Manual vs Elect.
                </div>
                <div class="col-lg-3">
                    <i class="fa fa-info-circle" uib-tooltip="Where technology is being used to manage and perform the work, provide the name of the technology vendor/system application"></i>
                    Technology Used
                </div>
            </div>
        </li>
        <li class="category" ng-repeat="questionnaireItem in vm.questionnaireData">
            <div class="row">
                <div class="category-field col-lg-2"><b>{{questionnaireItem.category.name}}</b></div>
            </div>
            <div class="row">
                <div class="category-field col-lg-3">
                    <div ng-if="questionnaireItem.category.id > 0">
                       {{questionnaireItem.category.jobActivity}}
                    </div>
                    <div ng-if="questionnaireItem.category.id == 0">
                        <textarea ng-model="questionnaireItem.category.jobActivity" placeholder="Type here..." class="no-border"></textarea>
                    </div>
                </div>
                <div class="category-field col-lg-2">
                    <rzslider rz-slider-model="questionnaireItem.answer.timeEffort" rz-slider-options="vm.sliderOptions"></rzslider>
                </div>
                <div class="category-field col-lg-2">
                    <ui-select ng-model="questionnaireItem.answer.activityOwner" theme="bootstrap">
                        <ui-select-match class="ui-select-match" placeholder="Select">{{$select.selected}}</ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="activityOwnerItem in vm.activityOwnerOptions | filter: $select.search">
                            <div ng-bind-html="activityOwnerItem | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="category-field col-lg-2">
                    <ui-select ng-model="questionnaireItem.answer.activityPerformed" theme="bootstrap">
                        <ui-select-match class="ui-select-match" placeholder="Select">{{$select.selected}}</ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="activityPerformedItem in vm.activityPerformedOptions | filter: $select.search">
                            <div ng-bind-html="activityPerformedItem | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="category-field col-lg-3">
                    <textarea ng-model="questionnaireItem.answer.technology"></textarea>
                </div>
            </div>
            <i class="fa fa-times-circle" title="Remove questionnaire item" ng-show="questionnaireItem.category.id == 0" ng-click="vm.closeOtherClick($index)"></i>
        </li>
        <li class="category-footer">
            <div class="row">
                <div class="col-lg-3">
                    <button type="button" class="btn btn-primary" ng-click="vm.addQuestionnaireItemClick()">
                        <span class="fa fa-plus-circle"></span> Add Other
                    </button>
                </div>
                <div class="col-lg-2">
                    <div class="completed">
                        <uib-progressbar max="100" value="vm.percentageTimeEffort"><span class="progress-text">{{vm.percentageTimeEffort}} %</span></uib-progressbar>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="counter"><b>{{vm.totalActivityOwner}}</b> out of <b>{{vm.questionnaireData.length}}</b></div>
                </div>
                <div class="col-lg-2">
                    <div class="counter"><b>{{vm.totalActivityPerformed}}</b> out of <b>{{vm.questionnaireData.length}}</b></div>
                </div>
                <div class="col-lg-3">
                    <div class="counter"><b>{{vm.totalTechnology}}</b> out of <b>{{vm.questionnaireData.length}}</b></div>
                </div>
            </div>
        </li>
    </ul>
</div>

